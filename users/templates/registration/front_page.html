{% extends 'registration/base.html' %}
{% load static %}
{% block title %}Welcome to Vetri Finance{% endblock %}

{% block content %}
<!-- HERO SECTION -->
<section class="relative py-32 text-center overflow-hidden rounded-2xl shadow-2xl bg-gradient-to-br from-indigo-500 via-purple-500 to-blue-400">
  <!-- Floating Gradient Orbs -->
  <div class="absolute -top-20 -left-20 w-96 h-96 bg-purple-300 opacity-40 blur-3xl rounded-full animate-pulse"></div>
  <div class="absolute bottom-0 right-0 w-96 h-96 bg-blue-300 opacity-30 blur-3xl rounded-full animate-pulse delay-500"></div>

  <!-- Glowing Particle Background -->
  <canvas id="particleCanvas" class="absolute inset-0 z-0"></canvas>

  <!-- Content -->
  <div class="relative z-10 px-6">
    <h1 class="text-6xl md:text-7xl font-extrabold text-white drop-shadow-lg mb-6 animate-fade-in-down">
      Welcome to <span class="text-yellow-200">Vetri Finance</span> ðŸ’°
    </h1>
    <p class="text-lg md:text-xl text-gray-100 max-w-3xl mx-auto mb-10 animate-fade-in-up leading-relaxed">
      Take control of your finances with <strong>Vetri Finance</strong> â€” your intelligent platform to
      <span class="text-white font-semibold">track</span>, 
      <span class="text-white font-semibold">analyze</span>, and 
      <span class="text-yellow-100 font-semibold">grow</span> your wealth effortlessly ðŸš€
    </p>

    {% if user.is_authenticated %}
      <a href="{% url 'dashboard_home' %}"
         class="px-10 py-4 bg-gradient-to-r from-purple-400 to-indigo-600 text-white font-semibold rounded-full shadow-lg hover:shadow-indigo-500/50 hover:scale-110 transition-transform duration-300">
         Go to Dashboard â†’
      </a>
    {% else %}
      <div class="flex flex-wrap gap-6 justify-center">
        <a href="{% url 'login' %}"
           class="px-10 py-4 bg-white/20 border border-white/30 text-white font-semibold rounded-full shadow-md hover:bg-white/30 hover:scale-105 transition-all duration-300">
           Login
        </a>
        <a href="{% url 'register' %}"
           class="px-10 py-4 bg-gradient-to-r from-indigo-500 to-purple-600 text-white font-semibold rounded-full shadow-lg hover:scale-110 hover:shadow-purple-500/40 transition-all duration-300">
           Register
        </a>
      </div>
    {% endif %}
  </div>
</section>

<!-- FEATURES SECTION -->
<section class="relative py-24 overflow-hidden bg-gradient-to-br from-white via-purple-50 to-indigo-100">
  <div class="absolute inset-0 bg-grid-slate-100/[0.2] bg-[length:40px_40px]"></div>
  
  <div class="relative container mx-auto px-8">
    <h2 class="text-center text-4xl md:text-5xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-purple-600 to-indigo-600 mb-16 animate-fade-in">
      âœ¨ Why Choose <span class="underline decoration-indigo-300">Vetri Finance</span>?
    </h2>

    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-12">
      <div class="feature-card bg-white/70 backdrop-blur-xl p-10 rounded-2xl shadow-lg hover:shadow-2xl hover:-translate-y-3 transition-all duration-500 border border-purple-100 text-center animate-fade-in-up">
        <div class="mx-auto bg-gradient-to-r from-purple-500 to-indigo-500 text-white w-20 h-20 rounded-full flex items-center justify-center text-4xl shadow-lg mb-6">
          ðŸ“ˆ
        </div>
        <h3 class="text-2xl font-bold mb-3 text-gray-800">Smart Analytics</h3>
        <p class="text-gray-600">Visualize your finances with intuitive charts and AI-powered insights that make data easy to understand.</p>
      </div>

      <div class="feature-card bg-white/70 backdrop-blur-xl p-10 rounded-2xl shadow-lg hover:shadow-2xl hover:-translate-y-3 transition-all duration-500 border border-purple-100 text-center animate-fade-in-up delay-100">
        <div class="mx-auto bg-gradient-to-r from-indigo-500 to-purple-600 text-white w-20 h-20 rounded-full flex items-center justify-center text-4xl shadow-lg mb-6">
          ðŸ’³
        </div>
        <h3 class="text-2xl font-bold mb-3 text-gray-800">Expense Tracking</h3>
        <p class="text-gray-600">Stay organized by tracking income and expenses automatically and categorizing them effortlessly.</p>
      </div>

      <div class="feature-card bg-white/70 backdrop-blur-xl p-10 rounded-2xl shadow-lg hover:shadow-2xl hover:-translate-y-3 transition-all duration-500 border border-purple-100 text-center animate-fade-in-up delay-200">
        <div class="mx-auto bg-gradient-to-r from-purple-600 to-indigo-500 text-white w-20 h-20 rounded-full flex items-center justify-center text-4xl shadow-lg mb-6">
          ðŸ“„
        </div>
        <h3 class="text-2xl font-bold mb-3 text-gray-800">Export Reports</h3>
        <p class="text-gray-600">Download detailed financial summaries instantly in PDF or CSV formats for your business or personal records.</p>
      </div>
    </div>
  </div>
</section>
{% endblock %}

<!-- Custom Animations & Particle Glow -->
<style>
  @keyframes fade-in {
    from { opacity: 0; transform: translateY(30px); }
    to { opacity: 1; transform: translateY(0); }
  }
  .animate-fade-in { animation: fade-in 1s ease-out forwards; }
  .animate-fade-in-up { animation: fade-in 1.2s ease-out forwards; }
  .animate-fade-in-down { animation: fade-in 1.2s ease-out forwards; transform: translateY(-20px); }

  .bg-grid-slate-100\/\[0\.2\] {
    background-image: linear-gradient(to right, rgba(241,245,249,0.2) 1px, transparent 1px),
                      linear-gradient(to bottom, rgba(241,245,249,0.2) 1px, transparent 1px);
  }

  #particleCanvas {
    position: absolute;
    width: 100%;
    height: 100%;
    pointer-events: none;
  }
</style>

<!-- ðŸŒ  Particle Animation Script -->
<script>
  const canvas = document.getElementById('particleCanvas');
  const ctx = canvas.getContext('2d');
  let particles = [];

  function resizeCanvas() {
    canvas.width = window.innerWidth;
    canvas.height = document.querySelector('section').offsetHeight;
  }

  window.addEventListener('resize', resizeCanvas);
  resizeCanvas();

  // Generate particles
  for (let i = 0; i < 80; i++) {
    const colors = ['#a78bfa', '#818cf8', '#93c5fd', '#c4b5fd'];
    particles.push({
      x: Math.random() * canvas.width,
      y: Math.random() * canvas.height,
      r: Math.random() * 3 + 1,
      dx: (Math.random() - 0.5) * 0.4,
      dy: (Math.random() - 0.5) * 0.4,
      color: colors[Math.floor(Math.random() * colors.length)],
      glow: Math.random() * 15 + 5
    });
  }

  // Draw glowing particles
  function drawParticles() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);
    particles.forEach(p => {
      const gradient = ctx.createRadialGradient(p.x, p.y, 0, p.x, p.y, p.glow);
      gradient.addColorStop(0, p.color);
      gradient.addColorStop(1, 'transparent');
      ctx.fillStyle = gradient;
      ctx.beginPath();
      ctx.arc(p.x, p.y, p.r * 1.5, 0, Math.PI * 2);
      ctx.fill();

      // Move particles
      p.x += p.dx;
      p.y += p.dy;

      // Bounce softly on edges
      if (p.x < 0 || p.x > canvas.width) p.dx *= -1;
      if (p.y < 0 || p.y > canvas.height) p.dy *= -1;
    });
    requestAnimationFrame(drawParticles);
  }

  drawParticles();
</script>
